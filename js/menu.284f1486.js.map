{"version":3,"sources":["scripts/menu.js"],"names":["btnMenuToggle","document","querySelector","menu","closeMenu","event","classList","remove","removeEventListener","addEventListener","openMenu","once","add","setTimeout","onclick","toggle"],"mappings":";AAAA,IAAMA,EAAgBC,SAASC,cAAc,sBACvCC,EAAOF,SAASC,cAAc,iBAEpC,SAASE,EAAUC,GAGfF,EAAKG,UAAUC,OAAO,uBACtBN,SAASO,oBAAoB,QAASJ,GACtCJ,EAAcS,iBAAiB,QAASC,EAAU,CAAEC,MAAM,IAG1DX,EAAcM,UAAUC,OAAO,2BAInC,SAASG,IAELP,EAAKG,UAAUM,IAAI,uBAKnBC,WAAW,WACPZ,SAASQ,iBAAiB,QAASL,IACpC,IAGPJ,EAAcS,iBAAiB,QAASC,EAAU,CAAEC,MAAM,IAE1DX,EAAcc,QAAU,WACpBd,EAAcM,UAAUS,OAAO","file":"menu.284f1486.js","sourceRoot":"../assets/src","sourcesContent":["const btnMenuToggle = document.querySelector('.header__icon-menu');\nconst menu = document.querySelector('.header__menu');\n\nfunction closeMenu(event) {\n    // if (event.target !== menu) {\n    // console.log('document.addEventListener click');\n    menu.classList.remove('header__menu_mobile');\n    document.removeEventListener('click', closeMenu);\n    btnMenuToggle.addEventListener('click', openMenu, { once: true });\n\n    // убираем иконку закрытия (на случай если закрытие было кликом не по иконке)\n    btnMenuToggle.classList.remove('header__icon-menu_close')\n    // }\n}\n\nfunction openMenu() {\n    // console.log('btnMenuToggle.onclick');\n    menu.classList.add('header__menu_mobile');\n\n    // btnMenuToggle.removeEventListener('click', openMenu); не надо убирать т.к листнер вешался с { once: true }\n\n    // вешаем листнер закрытия с задержкой т.к. если не сделать задержку листнер закрытия мгновенно повесится на документ и обработается клик который его же и повесил - меню откроется и закроется мгновенно - т.е. не откроется вообще\n    setTimeout(() => {\n        document.addEventListener('click', closeMenu);\n    }, 16);\n}\n\nbtnMenuToggle.addEventListener('click', openMenu, { once: true });\n\nbtnMenuToggle.onclick = () => {\n    btnMenuToggle.classList.toggle('header__icon-menu_close')\n}\n\n\n\n\n\n// Если зарегистрировано несколько одинаковых EventListener-ов на одном EventTarget с одинаковыми параметрами, дублирующиеся слушатели игнорируются. Они не позволяют EventListener-у быть вызванным дважды, и так как одинаковые слушатели игнорируются, не требуется удалять их вручную с помощью метода removeEventListener. \n// То есть список разрастается потихоньку, что, конечно, не очень то хорошо, но события повторно не вызываются.\n// https://developer.mozilla.org/ru/docs/Web/API/EventTarget/addEventListener"]}