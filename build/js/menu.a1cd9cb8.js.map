{"version":3,"sources":["scripts/menu.js"],"names":["btnMenuToggle","document","querySelector","menu","header","nav","closeMenu","event","classList","remove","removeEventListener","addEventListener","openMenu","once","body","style","overflow","window","onscroll","add","setTimeout","scrollTo","top","left","behavior","e","preventDefault","onclick","toggle"],"mappings":";AAAA,IAAMA,EAAgBC,SAASC,cAAc,sBACvCC,EAAOF,SAASC,cAAc,iBAC9BE,EAASH,SAASC,cAAc,WAChCG,EAAMJ,SAASC,cAAc,gBAEnC,SAASI,EAAUC,GAGfJ,EAAKK,UAAUC,OAAO,uBACtBR,SAASS,oBAAoB,QAASJ,GACtCN,EAAcW,iBAAiB,QAASC,EAAU,CAAEC,MAAM,IAG1Db,EAAcQ,UAAUC,OAAO,2BAI/BR,SAASa,KAAKC,MAAMC,SAAW,UAC/BC,OAAOC,SAAW,KAGlBb,EAAIG,UAAUC,OAAO,wBAKzB,SAASG,IAELT,EAAKK,UAAUW,IAAI,uBAKnBC,WAAW,WACPnB,SAASU,iBAAiB,QAASL,IACpC,IAIHW,OAAOI,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,WAE7CvB,SAASa,KAAKC,MAAMC,SAAW,SAC/BC,OAAOC,SAAW,WACdD,OAAOI,SAAS,EAAG,IAOvBJ,OAAON,iBAAiB,YAHxB,SAAwBc,GACpBA,EAAEC,mBAKNrB,EAAIG,UAAUW,IAAI,wBAGtBnB,EAAcW,iBAAiB,QAASC,EAAU,CAAEC,MAAM,IAE1Db,EAAc2B,QAAU,WACpB3B,EAAcQ,UAAUoB,OAAO","file":"menu.a1cd9cb8.js","sourceRoot":"../../assets/src","sourcesContent":["const btnMenuToggle = document.querySelector('.header__icon-menu');\nconst menu = document.querySelector('.header__menu');\nconst header = document.querySelector('.header');\nconst nav = document.querySelector('.header__nav');\n\nfunction closeMenu(event) {\n    // if (event.target !== menu) {\n    // console.log('document.addEventListener click');\n    menu.classList.remove('header__menu_mobile');\n    document.removeEventListener('click', closeMenu);\n    btnMenuToggle.addEventListener('click', openMenu, { once: true });\n\n    // убираем иконку закрытия (на случай если закрытие было кликом не по иконке)\n    btnMenuToggle.classList.remove('header__icon-menu_close')\n    // }\n\n    // возобновляем возможность прокрутки страницы при закрытии меню\n    document.body.style.overflow = 'visible';\n    window.onscroll = null;\n\n    // header.classList.remove('header_mob-menu');\n    nav.classList.remove('header__nav_mob-menu');\n\n\n}\n\nfunction openMenu() {\n    // console.log('btnMenuToggle.onclick');\n    menu.classList.add('header__menu_mobile');\n\n    // btnMenuToggle.removeEventListener('click', openMenu); не надо убирать т.к листнер вешался с { once: true }\n\n    // вешаем листнер закрытия с задержкой т.к. если не сделать задержку листнер закрытия мгновенно повесится на документ и обработается клик который его же и повесил - меню откроется и закроется мгновенно - т.е. не откроется вообще\n    setTimeout(() => {\n        document.addEventListener('click', closeMenu);\n    }, 16);\n\n    // перематывем страницу вверх (к меню) - на случай если меню откроют когда иконка меню уже  частично скрыта перемоткой\n    // window.scrollTo(0, 0);\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n    // запрещаем прокрутку страницы при открытии меню\n    document.body.style.overflow = 'hidden';\n    window.onscroll = () => {\n        window.scrollTo(0, 0);\n    };\n\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n    window.addEventListener('touchmove', preventDefault);\n\n    // header.classList.add('header_mob-menu');\n    nav.classList.add('header__nav_mob-menu');\n}\n\nbtnMenuToggle.addEventListener('click', openMenu, { once: true });\n\nbtnMenuToggle.onclick = () => {\n    btnMenuToggle.classList.toggle('header__icon-menu_close')\n}\n\n\n\n\n\n// Если зарегистрировано несколько одинаковых EventListener-ов на одном EventTarget с одинаковыми параметрами, дублирующиеся слушатели игнорируются. Они не позволяют EventListener-у быть вызванным дважды, и так как одинаковые слушатели игнорируются, не требуется удалять их вручную с помощью метода removeEventListener. \n// То есть список разрастается потихоньку, что, конечно, не очень то хорошо, но события повторно не вызываются.\n// https://developer.mozilla.org/ru/docs/Web/API/EventTarget/addEventListener"]}