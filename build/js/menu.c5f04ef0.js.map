{"version":3,"sources":["scripts/menu.js"],"names":["btnMenuToggle","document","querySelector","menu","header","nav","closeMenu","event","classList","remove","removeEventListener","addEventListener","openMenu","once","body","style","overflow","add","setTimeout","window","scrollTo","top","left","behavior","height"],"mappings":";AAAA,IAAMA,EAAgBC,SAASC,cAAc,sBACvCC,EAAOF,SAASC,cAAc,iBAC9BE,EAASH,SAASC,cAAc,WAChCG,EAAMJ,SAASC,cAAc,gBAEnC,SAASI,EAAUC,GAGfJ,EAAKK,UAAUC,OAAO,uBACtBR,SAASS,oBAAoB,QAASJ,GACtCN,EAAcW,iBAAiB,QAASC,EAAU,CAAEC,MAAM,IAG1DZ,SAASa,KAAKC,MAAMC,SAAW,UAE/BX,EAAIG,UAAUC,OAAO,wBAIzB,SAASG,IAELT,EAAKK,UAAUS,IAAI,uBAKnBC,WAAW,WACPjB,SAASU,iBAAiB,QAASL,IACpC,IAIHa,OAAOC,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,WAG7CtB,SAASa,KAAKC,MAAMC,SAAW,SAC/Bf,SAASa,KAAKC,MAAMS,OAAS,QAE7BnB,EAAIG,UAAUS,IAAI,wBAGtBjB,EAAcW,iBAAiB,QAASC,EAAU,CAAEC,MAAM","file":"menu.c5f04ef0.js","sourceRoot":"../../assets/src","sourcesContent":["const btnMenuToggle = document.querySelector('.header__icon-menu');\nconst menu = document.querySelector('.header__menu');\nconst header = document.querySelector('.header');\nconst nav = document.querySelector('.header__nav');\n\nfunction closeMenu(event) {\n    // if (event.target !== menu) {\n    // console.log('document.addEventListener click');\n    menu.classList.remove('header__menu_mobile');\n    document.removeEventListener('click', closeMenu);\n    btnMenuToggle.addEventListener('click', openMenu, { once: true });\n\n    // возобновляем возможность прокрутки страницы при закрытии меню\n    document.body.style.overflow = 'visible';\n\n    nav.classList.remove('header__nav_mob-menu');\n\n}\n\nfunction openMenu() {\n    // console.log('btnMenuToggle.onclick');\n    menu.classList.add('header__menu_mobile');\n\n    // btnMenuToggle.removeEventListener('click', openMenu); не надо убирать т.к листнер вешался с { once: true }\n\n    // вешаем листнер закрытия с задержкой т.к. если не сделать задержку листнер закрытия мгновенно повесится на документ и обработается клик который его же и повесил - меню откроется и закроется мгновенно - т.е. не откроется вообще\n    setTimeout(() => {\n        document.addEventListener('click', closeMenu);\n    }, 16);\n\n    // перематывем страницу вверх (к меню) - на случай если меню откроют когда иконка меню уже  частично скрыта перемоткой\n    // window.scrollTo(0, 0);\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n    // запрещаем прокрутку страницы при открытии меню\n    // на iPhone всё равно можно прокрутить страницу - выглядит очень странно. - Делаем непрозрачный фиксированный фон в цвет  и добавляем лого, дублируя HTML\n    document.body.style.overflow = 'hidden';\n    document.body.style.height = '100vh';\n\n    nav.classList.add('header__nav_mob-menu');\n}\n\nbtnMenuToggle.addEventListener('click', openMenu, { once: true });\n\n// btnMenuToggle.onclick = () => {\n//     btnMenuToggle.classList.toggle('header__icon-menu_close')\n// }\n\n\n\n\n\n// Если зарегистрировано несколько одинаковых EventListener-ов на одном EventTarget с одинаковыми параметрами, дублирующиеся слушатели игнорируются. Они не позволяют EventListener-у быть вызванным дважды, и так как одинаковые слушатели игнорируются, не требуется удалять их вручную с помощью метода removeEventListener. \n// То есть список разрастается потихоньку, что, конечно, не очень то хорошо, но события повторно не вызываются.\n// https://developer.mozilla.org/ru/docs/Web/API/EventTarget/addEventListener"]}